package rina.onepop.club.client.module.exploit;

import net.minecraft.item.ItemStack;
import rina.onepop.club.api.module.Module;
import rina.onepop.club.api.module.impl.ModuleCategory;
import rina.onepop.club.api.module.registry.Registry;
import rina.onepop.club.api.util.client.NullUtil;

/**
 * @author SrRina
 * @since 04/10/2021 at 22:16
 **/
@Registry(name = "No Eat Fall", tag = "NoEatFall", description = "Prevents fall of eat...", category = ModuleCategory.EXPLOIT)
public class ModuleNoEatFall extends Module {
    @Override
    public void onRender3D() {
        if (NullUtil.isPlayerWorld()) {
            return;
        }

        final ItemStack itemStack = mc.player.getHeldItemMainhand();

        if (mc.player.isHandActive() && mc.player.getItemInUseMaxCount() >= itemStack.getMaxItemUseDuration()) {
            mc.player.resetActiveHand();
        }
    }
}
