package rina.onepop.club.client.module.exploit;

import net.minecraft.network.play.server.SPacketBlockChange;
import rina.onepop.club.api.module.Module;
import rina.onepop.club.api.module.impl.ModuleCategory;
import rina.onepop.club.api.module.registry.Registry;
import rina.onepop.club.client.event.network.PacketEvent;
import team.stiff.pomelo.impl.annotated.handler.annotation.Listener;

/**
 * @author SrRina
 * @since 30/06/2021 at 00:45
 **/
@Registry(name = "No Place Delay", tag = "NoPlaceDelay", description = "Prevents delay of places.", category = ModuleCategory.EXPLOIT)
public class ModuleNoPlaceDelay extends Module {
    @Listener
    public void onPacketSend(PacketEvent.Receive event) {
        if (event.getPacket() instanceof SPacketBlockChange) {
            final SPacketBlockChange packet = (SPacketBlockChange) event.getPacket();

            mc.world.setBlockState(packet.getBlockPosition(), packet.getBlockState());
        }
    }
}
